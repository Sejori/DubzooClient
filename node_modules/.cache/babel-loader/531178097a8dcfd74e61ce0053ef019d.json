{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sebringrose/Projects/Dubzoo/app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sebringrose/Projects/Dubzoo/app/client/src/components/auth/StrapiAuth.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar StrapiAuth =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StrapiAuth, _Component);\n\n  function StrapiAuth(props) {\n    var _this;\n\n    _classCallCheck(this, StrapiAuth);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StrapiAuth).call(this, props));\n\n    _this.Register = function () {\n      // Request API.\n      axios.post('http://localhost:1337/auth/local/register', {\n        username: _this.state.usernameInput,\n        email: _this.state.emailInput,\n        password: _this.state.passwordInput\n      }).then(function (response) {\n        // Handle success.\n        console.log('Well done!');\n        console.log('User profile', response.data.user);\n        console.log('User token', response.data.jwt); // Update React State Credentials\n\n        _this.setState({\n          user: response.data.user,\n          jwt: response.data.jwt\n        });\n      }).catch(function (error) {\n        // Handle error.\n        console.log('An error occurred:', error);\n      });\n    };\n\n    _this.Login = function () {\n      console.log(\"login\"); // Request API\n\n      axios.post('http://localhost:1337/auth/local', {\n        identifier: _this.state.usernameInput,\n        password: _this.state.passwordInput\n      }).then(function (response) {\n        // Handle success.\n        console.log('Well done!');\n        console.log('User profile', response.data.user);\n        console.log('User token', response.data.jwt); // Update React State Credentials\n\n        _this.setState({\n          user: response.data.user,\n          jwt: response.data.jwt\n        });\n      }).catch(function (error) {\n        // Handle error.\n        console.log('An error occurred:', error);\n      });\n    };\n\n    _this.Logout = function () {\n      console.log(\"logout\");\n\n      _this.setState({\n        user: \"\"\n      });\n    };\n\n    _this.handleChange = function (_ref) {\n      var target = _ref.target;\n\n      _this.setState(_defineProperty({}, target.name, target.value));\n    };\n\n    _this.state = {\n      user: \"\",\n      jwt: \"\",\n      usernameInput: \"\",\n      emailInput: \"\",\n      passwordInput: \"\"\n    };\n    return _this;\n  } // PUT AXIOS AUTH FUNCTIONS HERE\n\n\n  _createClass(StrapiAuth, [{\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios('/data');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      switch (this.state.user) {\n        case \"\":\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            name: \"usernameInput\",\n            type: \"text\",\n            placeholder: \"Username\",\n            value: this.state.usernameInput,\n            onChange: this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            name: \"emailInput\",\n            type: \"text\",\n            placeholder: \"Email\",\n            value: this.state.emailInput,\n            onChange: this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            name: \"passwordInput\",\n            type: \"password\",\n            placeholder: \"Password\",\n            value: this.state.PasswordInput,\n            onChange: this.handleChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            onClick: this.Login,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, \"Login\"), React.createElement(\"button\", {\n            onClick: this.Register,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, \"Register\"));\n\n        default:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, \"Hi \", this.state.user, \"!\", React.createElement(\"button\", {\n            onClick: this.Logout,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, \"LOGOUT\"));\n      }\n    }\n  }]);\n\n  return StrapiAuth;\n}(Component);\n\nexport default StrapiAuth;","map":{"version":3,"sources":["/Users/sebringrose/Projects/Dubzoo/app/client/src/components/auth/StrapiAuth.js"],"names":["React","Component","axios","StrapiAuth","props","Register","post","username","state","usernameInput","email","emailInput","password","passwordInput","then","response","console","log","data","user","jwt","setState","catch","error","Login","identifier","Logout","handleChange","target","name","value","res","json","PasswordInput"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass StrapiAuth extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: \"\",\n      jwt: \"\",\n      usernameInput: \"\",\n      emailInput: \"\",\n      passwordInput: \"\"\n    }\n  }\n\n  // PUT AXIOS AUTH FUNCTIONS HERE\n  async getData(){\n   const res = await axios('/data');\n   return await res.json();\n}\n\n  Register = () => {\n    // Request API.\n    axios\n      .post('http://localhost:1337/auth/local/register', {\n        username: this.state.usernameInput,\n        email: this.state.emailInput,\n        password: this.state.passwordInput\n      })\n      .then(response => {\n        // Handle success.\n        console.log('Well done!');\n        console.log('User profile', response.data.user);\n        console.log('User token', response.data.jwt);\n\n        // Update React State Credentials\n        this.setState({\n          user: response.data.user,\n          jwt: response.data.jwt\n        })\n\n      })\n      .catch(error => {\n        // Handle error.\n        console.log('An error occurred:', error);\n      });\n  }\n\n  Login = () => {\n    console.log(\"login\");\n\n    // Request API\n    axios\n      .post('http://localhost:1337/auth/local', {\n          identifier: this.state.usernameInput,\n          password: this.state.passwordInput\n      })\n      .then(response => {\n        // Handle success.\n        console.log('Well done!');\n        console.log('User profile', response.data.user);\n        console.log('User token', response.data.jwt);\n\n        // Update React State Credentials\n        this.setState({\n          user: response.data.user,\n          jwt: response.data.jwt\n        })\n      })\n      .catch(error => {\n        // Handle error.\n        console.log('An error occurred:', error);\n      });\n  }\n\n  Logout = () => {\n    console.log(\"logout\");\n    this.setState({ user: \"\" })\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  render() {\n    switch (this.state.user) {\n\n      case \"\":\n        return(\n          <div>\n            <input\n              name=\"usernameInput\"\n              type=\"text\"\n              placeholder=\"Username\"\n              value={this.state.usernameInput}\n              onChange={this.handleChange}\n            />\n            <input\n              name=\"emailInput\"\n              type=\"text\"\n              placeholder=\"Email\"\n              value={this.state.emailInput}\n              onChange={this.handleChange}\n            />\n            <input\n              name=\"passwordInput\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={this.state.PasswordInput}\n              onChange={this.handleChange}\n            />\n            <button onClick={this.Login}>Login</button>\n            <button onClick={this.Register}>Register</button>\n          </div>\n        )\n\n      default:\n        return(\n          <div>\n            Hi {this.state.user}!\n            <button onClick={this.Logout}>LOGOUT</button>\n          </div>\n        )\n    }\n  }\n\n}\n\nexport default StrapiAuth;\n"]},"metadata":{},"sourceType":"module"}